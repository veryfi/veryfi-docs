[
  {
    "codeLanguage": "PYTHON",
    "language": "python",
    "value": "1",
    "example": "import requests\nimport base64\n\nCLIENT_ID = \"CLIENT_ID\"\nENVIRONMENT_URL = \"ENVIRONMENT_URL\"\n\nusername = \"USERNAME\"\napi_key = \"API_KEY\"\nprocess_image_url = '{0}api/v8/partner/documents/'.format(ENVIRONMENT_URL)\nheaders = {\n    \"Content-Type\": \"application/json\", \n    \"Accept\": \"application/json\",\n    \"CLIENT-ID\": CLIENT_ID,\n    \"AUTHORIZATION\": \"apikey {0}:{1}\".format(username, api_key)\n}\n\n# file path and file name\nimage_path = '/tmp/example.jpg'\nfile_name = 'example.jpg'\n\n# convert image to Base64\nwith open(image_path, \"rb\") as image_file:\n    base64_encoded_string = base64.b64encode(image_file.read()).decode('utf-8')\n\n# You can send the list of categories that is relevant to your case\n# Veryfi will try to choose the best one that fits this file\ncategories = [\"Office Expense\", \"Meals & Entertainment\", \"Utilities\", \"Auto\"]\npayload = {\n    'file_name': file_name,\n    'file_data': base64_encoded_string,\n    'categories': categories\n}\nresponse = requests.post(url=process_image_url, headers=headers, json=payload)\n\nprint(response.json())"
  },
  {
    "codeLanguage": "PHP",
    "language": "php",
    "value": "2",
    "example": "<?php\n    $CLIENT_ID = \"CLIENT_ID\";\n    $ENVIRONMENT_URL = \"ENVIRONMENT_URL\";\n\n    $username = \"USERNAME\";\n    $api_key = \"API_KEY\";\n\n    # You can send the list of categories that is relevant to your case\n    # Veryfi will try to choose the best one that fits this file\n    $categories = array(\"Office Expense\", \"Meals & Entertainment\", \"Utilities\", \"Auto\");\n\n    $data = array(\n        \"file_name\" => \"example.jpg\",\n        \"file_data\" => \"image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=\",\n        \"categories\" => $categories\n    );\n\n    $headers = array(\n        \"Content-Type: application/json\",\n        \"Accept: application/json\",\n        \"AUTHORIZATION: apikey $username:$api_key\",\n        \"CLIENT-ID: $CLIENT_ID\"\n    );\n\n    $url = \"{$ENVIRONMENT_URL}api/v8/partner/documents/\";\n\n    $ch = curl_init($url);\n    curl_setopt($ch, CURLOPT_HEADER, false);\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);\n    curl_setopt($ch, CURLOPT_POST, true);\n    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));\n    $json_response = curl_exec($ch);\n    $status = curl_getinfo($ch, CURLINFO_HTTP_CODE);\n    curl_close($ch);\n\n    print(\"json_response = \" . $json_response);\n?>"
  },
  {
    "codeLanguage": "JAVA",
    "language": "java",
    "value": "3",
    "example": "import org.json.JSONObject;\nimport org.springframework.http.*;\nimport org.springframework.util.LinkedMultiValueMap;\nimport org.springframework.util.MultiValueMap;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.client.HttpClientErrorException;\nimport org.springframework.web.client.RestTemplate;\nimport javax.imageio.ImageIO;\nimport java.awt.image.BufferedImage;\nimport java.awt.image.DataBufferByte;\nimport java.awt.image.WritableRaster;\nimport java.io.File;\nimport java.io.IOException;\n\npublic void processDocumentBase64() {\n    String clientId = \"CLIENT_ID\";\n    String apiKey = \"apikey USERNAME:API_KEY\";\n    String URL = ENVIRONMENT_URL + \"api/v8/partner/documents/\";\n    String fileData = \"image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=\";\n    String fileName = \"example.png\";\n    RestTemplate restTemplate = new RestTemplate();\n    JSONObject requestBody = new JSONObject();\n    requestBody.put(\"file_name\", fileName);\n    requestBody.put(\"file_data\", fileData);\n    requestBody.put(\"categories\", Arrays.asList(\"Meals & Entertainment\", \"Automotive\", \"Utilities\"));\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_JSON);\n    headers.add(\"CLIENT-ID\", clientId);\n    headers.add(\"AUTHORIZATION\", apiKey);\n    HttpEntity<String> entity = new HttpEntity<>(requestBody.toString(), headers);\n    ResponseEntity<String> response = restTemplate.postForEntity(URL, entity, String.class);\n}"
  },
  {
    "codeLanguage": "NODEJS",
    "language": "javascript",
    "value": "5",
    "example": "var request = require('request');\nvar fs = require('fs');\n\nvar fileName = 'receipt.jpg';\nvar filePath = '/tmp/receipt.jpg';\nvar base64str = fs.readFileSync(filePath, 'base64');\nvar jsonData = {\n file_data: base64str,\n file_name: fileName,\n boost_mode: true\n};\n\nvar USER_NAME = '<USER_NAME>';\nvar API_KEY = '<API_KEY>';\nvar CLIENT_ID = '<CLIENT_ID>';\nvar ENVIRONMENT_URL = '<ENVIRONMENT_URL>';\n\nvar options = {\n method: 'POST',\n uri: 'https://' + ENVIRONMENT_URL + '/api/v8/partner/documents/',\n headers: {\n 'Content-Type': 'application/json',\n 'Accept': 'application/json',\n 'CLIENT-ID': CLIENT_ID,\n 'AUTHORIZATION': 'apikey ' + USER_NAME + ':' + API_KEY\n },\n json: jsonData\n};\n\nrequest(options, function(error, response, body) {\n console.log(body);\n});"
  },
  {
    "codeLanguage": "C#",
    "language": "csharp",
    "value": "6",
    "example": "using System;\nusing System.IO;\nusing System.Net;\n\nstatic class Keys\n{\n    public const string ENVIRONMENT_URL = \"ENVIRONMENT_URL\";\n    public const string USERNAME = \"USERNAME\";\n    public const string API_KEY = \"API_KEY\";\n    public const string CLIENT_ID = \"CLIENT-ID\";\n}\npublic class Program\n{\n    public static void ProcessDocumentBase64(string filePath)\n    {\n        var httpWebRequest = (HttpWebRequest)WebRequest.Create(\"https://\" + Keys.ENVIRONMENT_URL + \"/api/v8/partner/documents/\");\n        httpWebRequest.ContentType = \"application/json\";\n        httpWebRequest.Method = \"POST\";\n        httpWebRequest.Headers.Add(\"Authorization\", \"apikey \" + Keys.USERNAME + \":\" + Keys.API_KEY);\n        httpWebRequest.Headers.Add(\"Client-id\", Keys.CLIENT_ID);\n        Byte[] bytes = File.ReadAllBytes(filePath);\n        String fileData = Convert.ToBase64String(bytes);\n        using (var streamWriter = new StreamWriter(httpWebRequest.GetRequestStream()))\n        {\n            string json = \"{\\\"file_name\\\":\\\"receipt.jpg\\\",\n +                           \\\"file_data\\\":\\\"\"+ fileData +\"\\\"}\";\n            streamWriter.Write(json);\n        }\n        var httpResponse = (HttpWebResponse)httpWebRequest.GetResponse();\n        using (var streamReader = new StreamReader(httpResponse.GetResponseStream()))\n        {\n            var jsonResponse = streamReader.ReadToEnd();\n            Console.WriteLine(String.Format(\"Response: {0}\", jsonResponse));\n        }\n    }\n    public static void Main(string[] args)\n    {\n        var filePath = @\"C:\\temp\\receipt.jpg\";\n        ProcessDocumentBase64(filePath);\n    }\n}"
  },
  {
    "codeLanguage": "CURL",
    "language": "plaintext",
    "value": "4",
    "example": "curl -H \"Content-Type: application/json\" \\ \n\t\t-H \"Accept: application/json\" \\ \n\t\t-H \"CLIENT-ID: CLIENT_ID\" \\ \n\t\t-H \"AUTHORIZATION: USERNAME:API_KEY\" \\ \n\t\t-X POST \\ \n\t\t-d '{\"file_name\": \"example.png\", \"file_data\": \"image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=\"}' \\ \n\t\tENVIRONMENT_URL/api/v8/partner/documents/"
  }
]
